<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html"/>
    <title></title>
    <style>
        /*CSS��ʽ����*/
        /* reset */
        body, h1, h2, h3, h4, h5, p, dl, dd, ul, ol, form, input, textarea, th, td, select {
            margin: 0;
            padding: 0;
        }

        em {
            font-style: normal;
        }

        li {
            list-style: none;
        }

        a {
            text-decoration: none;
        }

        img {
            border: none;
            vertical-align: top;
        }

        table {
            border-collapse: collapse;
        }

        input, textarea {
            outline: none;
        }

        textarea {
            resize: none;
            overflow: auto;
        }

        body {
            font-size: 12px;
            font-family: "΢���ź�";
        }

        .clear {
            zoom: 1;
        }

        .clear:after {
            content: "";
            display: block;
            clear: both;
        }

        /* end reset */
        div {
            width: 500px;
            height: 153px;
            border: 5px solid #CCC;
            position: relative;
        }

        textarea, p {
            width: 150px;
            height: 150px;
            border: 2px solid #000;
        }

        textarea {
            float: left;
        }

        p {
            float: right;
            background: red;
        }

        #btn {
            width: 80px;
            height: 40px;
            background: #FFFF5F;
            line-height: 40px;
            text-align: center;
            position: absolute;
            top: 0;
            left: 210px;
        }

        span {
            position: absolute;
            top: 50px;
            left: 240px;
        }

        ul {
            position: absolute;
            top: 80px;
            left: 200px;
        }

        ul li {
            float: left;
            width: 10px;
            height: 10px;
            overflow: hidden;
            background: #FA9850;
            margin-left: 2px;
        }

        .active {
            background: #000;
        }

    </style>
    <script src="miaov.js"></script>
    <script>
        window.onload = function () {
            var oText = document.getElementById('text');
            var oP = document.getElementsByTagName('p')[0];
            var oBtn = document.getElementById('btn');
            var oSpan = document.getElementsByTagName('span')[0];
            var oUl = document.getElementsByTagName('ul')[0];
            var aLi = oUl.getElementsByTagName('li');

            oBtn.onclick = function () {


                var str = oText.value;   //��ȡtextarea�����ݣ���oText.value��bug��str=oText.innerHTML,�ڹȸ�/����²�����

                var len = str.length;
                var word = '';
                var substr = '';
                var num = 1;
                var timer1 = null;
                var timer2 = null;
                var count = 0;

                if (str === '') {
                    oP.innerHTML = '';
                    oSpan.innerHTML = '0/0'
                    for (var i = 0; i < aLi.length; i++) {
                        aLi[i].className = '';
                    }
                    return;
                } else {
                    clearInterval(timer1);
                    clearInterval(timer2);

                    timer1 = setInterval(function () {
                        word = str.charAt(0);
                        oP.innerHTML += word;
                        substr = str.substring(1);
                        str = substr;
                        oText.value = substr;
                        oSpan.innerHTML = num + '/' + len;
                        num++;


                        if (num == len + 1) {
                            clearInterval(timer1);
                            clearInterval(timer2);

                        }

                    }, 500);

                    timer2 = setInterval(function () {


                        for (var i = 0; i < aLi.length; i++) {
                            aLi[i].className = '';
                        }


                        aLi[count].className = 'active';
                        count++;
                        count %= aLi.length;

                    }, 200)

                }


            }

        }


    </script>
</head>

<BODY>
<div>
    <textarea id="text"></textarea> <!--  ���ﲻҪ�ûس���textarea��ǩ�ֳ����У������bug���ûس����������ַ����  -->
    <p></p>
    <input id="btn" type="button" value="����������"/>
    <span>0/0</span>
    <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>

</div>
</BODY>
</HTML>
